<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brizo Fast Food - Payment System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="payment.css">
</head>
<body>
  <div class="container">
    <header>
      <!-- Brand Logo - Using your image.png -->
      <div class="brand-logo">
        <img src="image.png" alt="Brizo Fast Food" style="height: 60px;">
      </div>
      <h1><i class="fas fa-hamburger"></i> Payment System</h1>
      <p>Secure and convenient payment solutions for your orders</p>
    </header>

    <div class="tab-container">
      <div class="tabs">
        <div class="tab active" onclick="openTab('payment')">Make Payment</div>
        <div class="tab" onclick="openTab('history')">Payment History</div>
        <div class="tab" onclick="openTab('refund')">Refund Request</div>
        <div class="tab" onclick="openTab('methods')">Payment Methods</div>
      </div>
    </div>

    <!-- Payment Gateway Tab -->
    <div id="payment" class="tab-content active">
      <div class="card">
        <h2><i class="fas fa-credit-card"></i> Payment Gateway</h2>
        <p>Complete your payment securely using one of our supported methods.</p>
        
        <div class="form-group">
          <label for="order-id">Order ID</label>
          <input type="text" id="order-id" placeholder="Enter your order ID">
          <div class="error-message" id="order-id-error"></div>
        </div>
        
        <div class="form-group">
          <label for="payment-amount">Amount (RM)</label>
          <input type="text" id="payment-amount" placeholder="Enter amount" inputmode="decimal">
          <div class="error-message" id="amount-error"></div>
        </div>
        
        <h3>Select Payment Method</h3>
        <div class="payment-methods">
          <div class="payment-method active" onclick="selectPaymentMethod('card')">
            <i class="far fa-credit-card"></i>
            <div>Credit/Debit Card</div>
          </div>
          <div class="payment-method" onclick="selectPaymentMethod('bank')">
            <i class="fas fa-university"></i>
            <div>Online Banking</div>
          </div>
          <div class="payment-method" onclick="selectPaymentMethod('wallet')">
            <i class="fas fa-wallet"></i>
            <div>e-Wallet</div>
          </div>
        </div>
        
        <div id="card-details" class="form-group">
          <label for="card-number">Card Number</label>
          <div style="position: relative;">
            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19" inputmode="numeric">
            <i class="fab fa-cc-visa card-icon" id="card-type-icon"></i>
          </div>
          <div class="error-message" id="card-number-error"></div>
          
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
            <div class="form-group">
              <label for="expiry-date">Expiry Date</label>
              <input type="text" id="expiry-date" placeholder="MM/YY" maxlength="5" inputmode="numeric">
              <div class="error-message" id="expiry-error"></div>
            </div>
            <div class="form-group">
              <label for="cvv">CVV</label>
              <input type="text" id="cvv" placeholder="123" maxlength="4" inputmode="numeric">
              <div class="error-message" id="cvv-error"></div>
            </div>
          </div>
          
          <label for="card-name">Name on Card</label>
          <input type="text" id="card-name" placeholder="John Doe">
          <div class="error-message" id="card-name-error"></div>
        </div>
        
        <div id="bank-details" class="form-group hidden">
          <label for="bank-select">Select Bank</label>
          <div class="bank-select-container">
            <select id="bank-select" onchange="showBankLogin()">
              <option value="">-- Select Bank --</option>
              <option value="maybank">Maybank</option>
              <option value="cimb">CIMB Bank</option>
              <option value="public">Public Bank</option>
              <option value="rhb">RHB Bank</option>
              <option value="hongleong">Hong Leong Bank</option>
            </select>
          </div>
          <div class="error-message" id="bank-error"></div>
          
          <div id="bank-login" class="bank-login-container hidden">
            <h4><i class="fas fa-lock"></i> Secure Login <span class="secure-badge"><i class="fas fa-shield-alt"></i> Secure</span></h4>
            <div class="form-group">
              <label for="bank-username">Username/ID</label>
              <input type="text" id="bank-username" placeholder="Enter your online banking username">
            </div>
            <div class="form-group">
              <label for="bank-password">Password</label>
              <input type="password" id="bank-password" placeholder="Enter your password">
            </div>
            <div class="form-group">
              <label for="bank-otp">OTP (if required)</label>
              <input type="text" id="bank-otp" placeholder="Enter OTP sent to your phone" inputmode="numeric">
            </div>
            <button class="btn btn-primary" onclick="authenticateBank()">
              <i class="fas fa-sign-in-alt"></i> Login & Authorize Payment
            </button>
          </div>
        </div>
        
        <div id="wallet-details" class="form-group hidden">
          <label for="wallet-select">Select e-Wallet</label>
          <div class="wallet-select-container">
            <select id="wallet-select" onchange="showWalletLogin()">
              <option value="">-- Select e-Wallet --</option>
              <option value="grabpay">GrabPay</option>
              <option value="tng">Touch 'n Go eWallet</option>
              <option value="boost">Boost</option>
              <option value="shopeepay">ShopeePay</option>
            </select>
          </div>
          <div class="error-message" id="wallet-error"></div>
          
          <div id="wallet-login" class="wallet-login-container hidden">
            <h4><i class="fas fa-mobile-alt"></i> e-Wallet Login <span class="secure-badge"><i class="fas fa-shield-alt"></i> Secure</span></h4>
            <div class="form-group">
              <label for="wallet-phone">Phone Number</label>
              <input type="text" id="wallet-phone" placeholder="Enter your registered phone number" inputmode="numeric">
            </div>
            <div class="form-group">
              <label for="wallet-pin">PIN</label>
              <input type="password" id="wallet-pin" placeholder="Enter your 6-digit PIN" inputmode="numeric" maxlength="6">
            </div>
            <button class="btn btn-primary" onclick="authenticateWallet()">
              <i class="fas fa-check-circle"></i> Verify & Pay
            </button>
          </div>
        </div>
        
        <button class="btn btn-primary" onclick="processPayment()" id="pay-now-btn">
          <i class="fas fa-lock"></i> Pay Now
        </button>
      </div>
    </div>

    <!-- Payment Confirmation -->
    <div id="confirmation" class="card hidden">
      <div id="payment-processing" class="hidden">
        <h2><i class="fas fa-spinner"></i> Processing Payment</h2>
        <p>Please wait while we process your payment...</p>
        <div class="loader"></div>
      </div>
      
      <div id="payment-success">
        <h2><i class="fas fa-check-circle" style="color: var(--success);"></i> Payment Successful!</h2>
        <p id="confirm-message">Your payment was successful.</p>
        
        <div class="receipt">
          <h3>Order Receipt</h3>
          <div class="receipt-item">
            <span>Order ID:</span>
            <span id="receipt-order-id"></span>
          </div>
          <div class="receipt-item">
            <span>Date:</span>
            <span id="receipt-date"></span>
          </div>
          <div class="receipt-item">
            <span>Payment Method:</span>
            <span id="receipt-method"></span>
          </div>
          <div class="receipt-item">
            <span>Amount:</span>
            <span id="receipt-amount"></span>
          </div>
          <div class="receipt-item receipt-total">
            <span>Total Paid:</span>
            <span id="receipt-total"></span>
          </div>
        </div>
        
        <button class="btn btn-secondary" onclick="downloadReceipt()">
          <i class="fas fa-download"></i> Download Receipt
        </button>
        <button class="btn btn-outline" onclick="backToHome()">
          <i class="fas fa-home"></i> Back to Home
        </button>
      </div>
    </div>

    <!-- Payment History Tab -->
    <div id="history" class="tab-content">
      <div class="card">
        <h2><i class="fas fa-history"></i> Payment History</h2>
        <div id="history-list">
          <!-- Payment history will be dynamically inserted here -->
        </div>
        
        <button class="btn btn-outline" style="margin-top: 20px;" onclick="exportHistory()">
          <i class="fas fa-file-export"></i> Export History
        </button>
      </div>
    </div>

    <!-- Refund Request Tab -->
    <div id="refund" class="tab-content">
      <div class="card">
        <h2><i class="fas fa-exchange-alt"></i> Refund Request</h2>
        <p>Submit a refund request for your order. Our team will review your request within 3-5 business days.</p>
        
        <div id="refund-alert" class="hidden"></div>
        
        <div class="form-group">
          <label for="refund-order">Order ID</label>
          <select id="refund-order">
            <option value="">-- Select Order --</option>
            <!-- Options will be dynamically inserted -->
          </select>
          <div class="error-message" id="refund-order-error"></div>
        </div>
        
        <div class="form-group">
          <label for="refund-reason">Reason for Refund</label>
          <select id="refund-reason">
            <option value="">-- Select Reason --</option>
            <option>Order not received</option>
            <option>Wrong order delivered</option>
            <option>Food quality issues</option>
            <option>Other</option>
          </select>
          <div class="error-message" id="refund-reason-error"></div>
        </div>
        
        <div class="form-group">
          <label for="refund-details">Additional Details</label>
          <textarea id="refund-details" rows="4" placeholder="Please provide more details about your refund request..."></textarea>
          <div class="error-message" id="refund-details-error"></div>
        </div>
        
        <button class="btn btn-primary" onclick="submitRefundRequest()">
          <i class="fas fa-paper-plane"></i> Submit Request
        </button>
      </div>
    </div>

    <!-- Payment Methods Tab -->
    <div id="methods" class="tab-content">
      <div class="card">
        <h2><i class="far fa-credit-card"></i> My Payment Methods</h2>
        <div id="methods-alert" class="hidden"></div>
        
        <div id="saved-methods">
          <!-- Saved payment methods will be dynamically inserted here -->
        </div>
        
        <h3><i class="fas fa-plus-circle"></i> Add New Payment Method</h3>
        
        <div class="form-group">
          <label for="new-card-number">Card Number</label>
          <div style="position: relative;">
            <input type="text" id="new-card-number" placeholder="1234 5678 9012 3456" maxlength="19" inputmode="numeric">
            <i class="fab fa-cc-visa card-icon" id="new-card-type-icon"></i>
          </div>
          <div class="error-message" id="new-card-number-error"></div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
          <div class="form-group">
            <label for="new-expiry">Expiry Date</label>
            <input type="text" id="new-expiry" placeholder="MM/YY" maxlength="5" inputmode="numeric">
            <div class="error-message" id="new-expiry-error"></div>
          </div>
          <div class="form-group">
            <label for="new-cvv">CVV</label>
            <input type="text" id="new-cvv" placeholder="123" maxlength="4" inputmode="numeric">
            <div class="error-message" id="new-cvv-error"></div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="new-card-name">Name on Card</label>
          <input type="text" id="new-card-name" placeholder="John Doe">
          <div class="error-message" id="new-card-name-error"></div>
        </div>
        
        <button class="btn btn-primary" onclick="savePaymentMethod()">
          <i class="fas fa-save"></i> Save Card
        </button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script src="payment-tabs.js"></script>
  <script src="payment-processing.js"></script>
  <script src="payment-methods.js"></script>
</body>
</html>